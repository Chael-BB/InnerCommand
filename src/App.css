import React, { useState } from "react";

export default function App() {
  const [mood, setMood] = useState(5);
  const [note, setNote] = useState("");
  const [logs, setLogs] = useState([]);

  const handleSave = () => {
    if (note.trim() === "") return;
    const timestamp = new Date().toLocaleString();
    setLogs([{ mood, note, timestamp }, ...logs]);
    setNote("");
  };

  const getMoodColor = (value) => {
    const blue = 255 - value * 25;
    const yellow = value * 25;
    return `rgb(${yellow}, ${yellow}, ${blue})`;
  };

  return (
    <div className="min-h-screen bg-gray-50 flex flex-col items-center justify-between py-4 px-2 text-gray-800 font-sans">
      <header className="text-center mt-4">
        <div className="text-4xl font-bold mb-1">InnerCommand</div>
        <div className="text-sm italic">Calm your mind, command your world</div>
        <div className="my-4">
          <div className="text-lg font-semibold">How are you feeling today?</div>
          <input
            type="range"
            min="0"
            max="10"
            value={mood}
            onChange={(e) => setMood(Number(e.target.value))}
            className="w-72 mt-2"
            style={{ background: getMoodColor(mood) }}
          />
          <div className="text-lg mt-2">Mood: {mood}/10</div>
        </div>
      </header>

      <main className="w-full max-w-md px-2">
        <textarea
          placeholder="Anything you'd like to note?"
          value={note}
          onChange={(e) => setNote(e.target.value)}
          className="w-full border border-gray-300 rounded-xl p-2 h-24 shadow-sm focus:outline-none focus:ring focus:border-blue-300"
        ></textarea>
        <button
          onClick={handleSave}
          className="w-full mt-3 bg-blue-500 text-white py-2 rounded-xl hover:bg-blue-600 transition-all"
        >
          Save Entry
        </button>

        <div className="mt-6">
          <div className="font-semibold text-lg mb-2">Recent Logs</div>
          {logs.length === 0 ? (
            <div className="text-sm text-gray-400">No entries yet.</div>
          ) : (
            <ul className="space-y-2">
              {logs.map((log, idx) => (
                <li
                  key={idx}
                  className="border rounded-xl p-3 shadow-sm bg-white"
                >
                  <div className="font-medium text-blue-600">Mood: {log.mood}/10</div>
                  <div className="text-sm text-gray-600 whitespace-pre-wrap mt-1">
                    {log.note}
                  </div>
                  <div className="text-xs text-gray-400 mt-2">{log.timestamp}</div>
                </li>
              ))}
            </ul>
          )}
        </div>
      </main>

      <footer className="w-full max-w-md py-4 flex justify-around text-gray-400 border-t mt-8">
        <div className="text-sm">Home</div>
        <div className="text-sm">Stats</div>
        <div className="text-sm">Settings</div>
      </footer>
    </div>
  );
}
